System.register("chunks:///_virtual/ForceIndicatorController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,l,a,s,u,h,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,l=e._decorator,a=e.Node,s=e.Color,u=e.UITransform,h=e.Vec3,p=e.Sprite,f=e.Component}],execute:function(){var g,b,m,d,v,y,S,w,z,C,F,I,x,M,j,D;c._RF.push({},"30279HU8BdCxI3Qg15swwUV","ForceIndicatorController",void 0);var O=l.ccclass,L=l.property;e("ForceIndicatorController",(g=O("ForceIndicatorController"),b=L(a),m=L(s),d=L(s),v=L(s),y=L(a),g((z=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"panReference",z,n(t)),i(t,"color1",C,n(t)),i(t,"color2",F,n(t)),i(t,"color3",I,n(t)),i(t,"circles",x,n(t)),i(t,"minScale",M,n(t)),i(t,"maxScale",j,n(t)),i(t,"heightLimit",D,n(t)),t.hMax=0,t.circlesSpacing=.1,t.currentForce=0,t.currentDirection=null,t.targetObject=null,t}r(t,e);var c=t.prototype;return c.updateIndicator=function(e,t,r,i){this.targetObject=e,this.currentForce=t,this.currentDirection=r,this.hMax=i,this.udpateCircles(),this.node.active=!0},c.udpateCircles=function(){if(this.targetObject){var e=this.targetObject.getPosition().toVec2();this.circlesSpacing=this.currentForce/10;for(var t=Math.min(this.currentForce/400,1),r=Math.ceil(t*this.circles.length),i=0;i<this.circles.length;i++){var n=this.circles[i];if(i<r){var o=e.clone().add(this.currentDirection.normalize().multiplyScalar(this.targetObject.getComponent(u).height/2+this.circlesSpacing*i));n.setPosition(o.toVec3());var c=this.minScale+(this.maxScale-this.minScale)*((i+1)/this.circles.length)*t;n.setScale(new h(c,c,c));var l=n.getComponent(p),a=this.panReference.getPosition().y;l&&(this.hMax>350?l.color=this.color1:this.hMax<a+75?l.color=this.color3:l.color=this.color2),n.active=!0}else n.active=!1}}},c.hideIndicators=function(){for(var e,t=o(this.circles);!(e=t()).done;){e.value.active=!1}},t}(f)).prototype,"panReference",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"color1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"color2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(w.prototype,"color3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"circles",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(w.prototype,"minScale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),j=t(w.prototype,"maxScale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),D=t(w.prototype,"heightLimit",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 350}}),S=w))||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IngredientCollision.ts","./ThrowableObject.ts"],(function(e){var n,t,i,r,o,s,a,l,c,u,h,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Label,l=e.Node,c=e.randomRangeInt,u=e.Component},function(e){h=e.IngredientCollision},function(e){g=e.default}],execute:function(){var d,p,f,_,b,v,L,w,m,I,y;o._RF.push({},"66c79JLPMhLxaa+BGWFTHYK","GameManager",void 0);var P=s.ccclass,S=s.property;e("GameManager",(d=P("GameManager"),p=S(a),f=S(a),_=S(l),b=S(l),d((w=n((L=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(n,"scoreLabel",w,r(n)),i(n,"livesLabel",m,r(n)),i(n,"respawnPoints",I,r(n)),i(n,"ingredients",y,r(n)),n.score=0,n.lives=3,n.respawnPointsOccupied=[],n.currentIngredient=null,n}t(n,e);var o=n.prototype;return o.start=function(){this.spawnIngredient(),this.updateLivesLabel(),this.updateScoreLabel()},o.onEnable=function(){h.eventTarget.on("ingredient-point",this.addScore,this),g.eventTarget.on("ingredient-die",this.onFall,this)},o.onDisable=function(){h.eventTarget.off("ingredient-point",this.addScore,this),g.eventTarget.off("ingredient-die",this.onFall,this)},o.onFall=function(){console.log("Morreu"),this.loseLife(),this.spawnIngredient()},o.spawnIngredient=function(){var e=this;do{this.currentIngredient=this.ingredients[c(0,this.ingredients.length)]}while(1==this.currentIngredient.active);this.currentIngredient.setPosition(this.respawnPoints[c(0,this.respawnPoints.length)].getPosition()),console.log("______________________________"),console.log("Spawning: "+this.currentIngredient.name+" at "+this.currentIngredient.getPosition()),this.scheduleOnce((function(){e.currentIngredient.active=!0}),.1)},o.addScore=function(e){console.log("Adicionando Ponto: "+e),this.score+=e,this.updateScoreLabel(),this.spawnIngredient()},o.loseLife=function(){this.lives--,this.updateLivesLabel(),this.lives<=0&&this.resetGame()},o.resetGame=function(){this.score=0,this.lives=3,this.updateScoreLabel(),this.updateLivesLabel(),console.log("Game Reset")},o.updateScoreLabel=function(){this.scoreLabel.string=this.score.toString()},o.updateLivesLabel=function(){this.livesLabel.string="Lives: "+this.lives},n}(u)).prototype,"scoreLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(L.prototype,"livesLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(L.prototype,"respawnPoints",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(L.prototype,"ingredients",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=L))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/IngredientCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThrowableObject.ts"],(function(n){var o,t,e,i,l,r,s,c;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.EventTarget,l=n.Collider2D,r=n.Contact2DType,s=n.Component},function(n){c=n.default}],execute:function(){var a,u;t._RF.push({},"ffda3TxFJ9N+5s2YMXeSm4I","IngredientCollision",void 0);var d=e.ccclass;e.property,n("IngredientCollision",d("IngredientCollision")(((u=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).collider=null,o}o(t,n);var e=t.prototype;return e.onLoad=function(){this.collider=this.getComponent(l)},e.onEnable=function(){this.collider.on(r.BEGIN_CONTACT,this.onCollisionEnter,this)},e.onDisable=function(){this.collider.off(r.BEGIN_CONTACT,this.onCollisionEnter,this)},e.onCollisionEnter=function(n,o){if(2==n.tag&&0==o.tag){var e=o.node.getComponent(c);null!=e&&this.scheduleOnce((function(){console.log("Ponto!"),e.node.active=!1,t.eventTarget.emit("ingredient-point",e.points)}),0)}},t}(s)).eventTarget=new i,a=u))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/IngredientInputHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThrowableObject.ts","./ForceIndicatorController.ts"],(function(t){var n,e,i,o,s,r,h,a,c,d,l,u,p,g,f,I,T;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,h=t.EventTarget,a=t.Node,c=t.Input,d=t.EventMouse,l=t.input,u=t.Vec2,p=t.UITransform,g=t.EventTouch,f=t.Component},function(t){I=t.default},function(t){T=t.ForceIndicatorController}],execute:function(){var E,y,v,M,O,U,_;s._RF.push({},"02b60fl3nZJd6YTQI9FpJqT","IngredientInputHandler",void 0);var C=r.ccclass,H=r.property;t("IngredientInputHandler",(E=C("IngredientInputHandler"),y=H(T),E(((_=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,i(n,"maxForce",O,o(n)),i(n,"forceIndicator",U,o(n)),n.isHolding=!1,n.holdTime=0,n.isDragging=!1,n.ingredient=null,n.alreadyThrown=!1,n}e(n,t);var s=n.prototype;return s.onLoad=function(){this.ingredient=this.getComponent(I)},s.onEnable=function(){this.node.on(a.EventType.MOUSE_DOWN,this.onInputStart,this),this.node.on(a.EventType.TOUCH_START,this.onInputStart,this),this.node.on(c.EventType.MOUSE_MOVE,this.onInputMove,this),this.node.on(c.EventType.TOUCH_MOVE,this.onInputMove,this),this.resetIngredient()},s.onDisable=function(){this.node.off(a.EventType.MOUSE_DOWN,this.onInputStart,this),this.node.off(a.EventType.TOUCH_START,this.onInputStart,this),this.node.off(c.EventType.MOUSE_MOVE,this.onInputMove,this),this.node.off(c.EventType.TOUCH_MOVE,this.onInputMove,this)},s.resetIngredient=function(){this.isHolding=!1,this.holdTime=0,this.isDragging=!1,this.alreadyThrown=!1},s.onInputStart=function(t){t instanceof d&&0!==t.getButton()||this.alreadyThrown||(this.isHolding=!0,this.holdTime=0,this.isDragging=!1,l.on(c.EventType.MOUSE_MOVE,this.onInputMove,this),l.on(c.EventType.TOUCH_MOVE,this.onInputMove,this),l.on(c.EventType.MOUSE_UP,this.onInputEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onInputEnd,this),l.on(c.EventType.MOUSE_DOWN,this.onInputCancel,this),this.node.on(c.EventType.MOUSE_UP,this.onInputCancel,this))},s.onInputMove=function(t){if(this.isHolding){var n=t.getUILocation(),e=this.node.getWorldPosition(),i=new u(n.x-e.x,n.y-e.y),o=this.getComponent(p);i.length()>o.height/2.2?(this.calculateIntialVelocity(i),this.isDragging=!0):(this.isDragging=!1,this.resetForceIndicator())}},s.onInputEnd=function(){this.isHolding&&(this.isHolding=!1,this.isDragging?(n.eventTarget.emit("ingredient-thrown",this.node),this.alreadyThrown=!0,this.resetForceIndicator(),l.off(c.EventType.MOUSE_MOVE,this.onInputMove,this),l.off(c.EventType.TOUCH_MOVE,this.onInputMove,this),l.off(c.EventType.MOUSE_UP,this.onInputEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onInputEnd,this),l.off(c.EventType.MOUSE_DOWN,this.onInputCancel,this),this.node.off(c.EventType.MOUSE_UP,this.onInputCancel,this)):this.cancelThrow())},s.onInputCancel=function(t){this.isHolding&&(t instanceof d&&(2===t.getButton()||0===t.getButton())||t instanceof g)&&this.cancelThrow()},s.calculateIntialVelocity=function(t){var n=t.length(),e=Math.min(n*n/100+200,this.maxForce);t.y<0&&(t.x=-t.x,e*=1.5),t.y=Math.abs(t.y),t.normalize();var i=t.clone().multiplyScalar(e/(4.7*this.ingredient.mass)),o=this.ingredient.node.getPosition().y+(i.y-this.ingredient.mass)*(i.y-this.ingredient.mass)*.393;i.y,this.ingredient.GRAVITY;this.updateForceIndicator(o,e,t),this.ingredient.setInitialVelocity(i)},s.update=function(t){this.isHolding&&(this.holdTime+=t)},s.updateForceIndicator=function(t,n,e){this.forceIndicator.updateIndicator(this.ingredient.node,n,e,t)},s.resetForceIndicator=function(){this.forceIndicator.node.active=!1},s.cancelThrow=function(){this.isHolding=!1,this.resetForceIndicator()},n}(f)).eventTarget=new h,O=n((M=_).prototype,"maxForce",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),U=n(M.prototype,"forceIndicator",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ForceIndicatorController.ts","./GameManager.ts","./IngredientCollision.ts","./IngredientInputHandler.ts","./ShadowController.ts","./SlowMotion.ts","./ThrowableObject.ts"],(function(){return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ShadowController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThrowableObject.ts"],(function(o){var t,e,n,i,r,a,s,h,l,d,c,u;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.Node,h=o.Quat,l=o.UITransform,d=o.Vec3,c=o.Component},function(o){u=o.default}],execute:function(){var p,w,f,g,S;r._RF.push({},"3db14TcLM1JZK0fPg1zZpSX","ShadowController",void 0);var v=a.ccclass,y=a.property;o("ShadowController",(p=v("ShadowController"),w=y(s),p((S=t((g=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,n(t,"shadow",S,i(t)),t.target=null,t.isShowing=!0,t}e(t,o);var r=t.prototype;return r.onLoad=function(){null!=this.node.getComponent(u)?this.target=this.node.getComponent(u):console.error("ShadowController: Não foi possível encontrar o componente ThrowableObject no nó pai.")},r.update=function(){this.updateShadow()},r.updateShadow=function(){this.target.hasThrown?this.hideShadow():this.showShadow(),this.shadow.setWorldRotation(h.IDENTITY);var o=this.node.getComponent(l).height/2,t=new d(this.node.getWorldPosition().x,this.node.getWorldPosition().y-(o-5),0);this.shadow.setWorldPosition(t)},r.hideShadow=function(){this.shadow.active=!1,this.isShowing=!1},r.showShadow=function(){this.shadow.active=!0},t}(c)).prototype,"shadow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlowMotion.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,i,n,e,l,c,r;return{setters:[function(o){t=o.inheritsLoose},function(o){i=o.cclegacy,n=o._decorator,e=o.Collider2D,l=o.Contact2DType,c=o.director,r=o.Component}],execute:function(){var s;i._RF.push({},"31c3fqai+dKVpBGI94jS7Mq","SlowMotion",void 0);var a=n.ccclass;n.property,o("SlowMotion",a("SlowMotion")(s=function(o){function i(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).collider=null,t}t(i,o);var n=i.prototype;return n.onLoad=function(){this.collider=this.getComponent(e)},n.onEnable=function(){this.collider.on(l.BEGIN_CONTACT,this.onCollisionEnter,this),this.collider.on(l.END_CONTACT,this.onCollisionExit,this)},n.onDisable=function(){this.collider.off(l.BEGIN_CONTACT,this.onCollisionEnter,this),this.collider.off(l.END_CONTACT,this.onCollisionExit,this)},n.onCollisionEnter=function(o,t){console.log("Slow Motion activated"),c.getScheduler().setTimeScale(.1)},n.onCollisionExit=function(o,t){console.log("Slow Motion deactivated"),c.getScheduler().setTimeScale(1)},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ThrowableObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IngredientInputHandler.ts"],(function(e){var i,t,n,o,r,s,l,a,c,h,d,g,u,p,y,f,b,m,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Camera,a=e.Node,c=e.EventTarget,h=e.Vec2,d=e.RigidBody2D,g=e.Collider2D,u=e.ParticleSystem2D,p=e.Contact2DType,y=e.Quat,f=e.randomRange,b=e.UITransform,m=e.Component},function(e){w=e.IngredientInputHandler}],execute:function(){var S,I,T,R,V,v,C,B,D,x,F,P;r._RF.push({},"d27750DQglIV599Kr3eEZy6","ThrowableObject",void 0);var _=s.ccclass,j=s.property;e("default",(S=_("ThrowableObject"),I=j(l),T=j(a),R=j(a),S(((P=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"mainCamera",C,o(i)),n(i,"panReference",B,o(i)),n(i,"counterReference",D,o(i)),n(i,"mass",x,o(i)),n(i,"points",F,o(i)),i.rigidBody=null,i.collider=null,i.particleSystem=null,i.hasThrown=!1,i.isFalling=!1,i.isRising=!1,i.isStopped=!0,i.canScale=!0,i.initialVelocity=new h,i.elapsedTime=0,i.isMaxHeight=!1,i._slowFactor=1,i.GRAVITY=38.8,i}t(i,e);var r=i.prototype;return r.onLoad=function(){this.rigidBody=this.getComponent(d)||this.addComponent(d),this.collider=this.getComponent(g),this.particleSystem=this.getComponent(u)},r.onEnable=function(){this.resetIngredient(),w.eventTarget.on("ingredient-thrown",this.throwIngredient,this),this.collider.on(p.PRE_SOLVE,this.onCollision,this)},r.onDisable=function(){w.eventTarget.off("ingredient-thrown",this.throwIngredient,this),this.collider.off(p.PRE_SOLVE,this.onCollision,this),console.log("Desabilitando objeto: "+this.node.name)},r.resetIngredient=function(){this.hasThrown=!1,this.isFalling=!1,this.isRising=!1,this.isStopped=!0,this.canScale=!0,this.node.setSiblingIndex(this.counterReference.getSiblingIndex()),this.collider.group=32,this.node.setRotation(y.IDENTITY),this.node.setScale(1,1,1),this.rigidBody.linearVelocity=new h,this.rigidBody.angularVelocity=0,this.particleSystem.resetSystem(),console.log("Ingredient reset: "+this.node.name)},r.slowMotion=function(e){this._slowFactor=e},r.setInitialVelocity=function(e){this.initialVelocity=e},r.throwIngredient=function(e){e===this.node&&(this.isStopped=!1,this.hasThrown=!0,this.rigidBody&&0!=this.initialVelocity.length()&&(this.rigidBody.linearVelocity=this.initialVelocity,this.rigidBody.angularVelocity=f(-5,5)))},r.update=function(e){this.hasThrown&&(this.handleThrownObject(e*this._slowFactor),this.node.getWorldPosition().y<0&&(console.log("Objeto caiu no chão"),this.node.active=!1,i.eventTarget.emit("ingredient-die")))},r.handleThrownObject=function(e){var i=this.rigidBody.linearVelocity.y,t=this.node.getPosition().y-this.node.getComponent(b).height/2,n=this.panReference.getPosition().y,o=this.counterReference.getPosition().y+this.counterReference.getComponent(b).height/2;if(this.isFalling||i<.1&&(this.isFalling=!0,this.collider.group=4,t>n&&(this.collider.group=8,this.node.setSiblingIndex(this.panReference.getSiblingIndex()))),this.isRising||(16!=this.collider.group&&(this.collider.group=16),t>o&&(this.isRising=!0,this.node.setSiblingIndex(this.counterReference.getSiblingIndex()))),this.canScale){var r=Math.max(this.node.getScale().x-.15*e,.65);this.node.setScale(r,r,1)}this.elapsedTime+=e},r.onCollision=function(e,i){2!=i.group&&this.hasThrown&&(console.log("colidindo com a prateleira"),this.canScale=!1,this.rigidBody.linearVelocity.length()<1&&!this.isStopped&&(this.rigidBody.linearVelocity=this.rigidBody.linearVelocity.multiplyScalar(2)))},i}(m)).eventTarget=new c,C=i((v=P).prototype,"mainCamera",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(v.prototype,"panReference",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(v.prototype,"counterReference",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(v.prototype,"mass",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=i(v.prototype,"points",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),V=v))||V));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});